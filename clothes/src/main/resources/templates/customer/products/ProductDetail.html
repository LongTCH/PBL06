<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Product Detail</title>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{/css/customer/product-detail.css}">
    <link href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{/css/admin/toast.css}">
    <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
    <script th:src="@{/js/toast.js}"></script>
</head>
<body>
<div>
    <div th:replace="~{layouts/customer/header}"></div>
    <div layout:fragment="body">
        <nav aria-label="breadcrumb-shop" class="breadcrumb-shop">
            <div class="container">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/">Trang chủ</a></li>
                    <li class="breadcrumb-item"><a href="/dam">Đầm</a></li>
                    <li aria-current="page" class="breadcrumb-item active" th:text="${product.title}"></li>
                </ol>
            </div>
        </nav>
        <div class="productDetail-information">
            <div class=" container">
                <div class="productDetail-main">
                    <div class="row">
                        <div class="col-lg-5 col-md-12 col-12 product-gallery">
                            <div class="product-gallery__inner">
                                <div class="product-gallery__slide swiper">
                                    <div class="swiper-wrapper"
                                         style="transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;">
                                        <div class="swiper-slide" style="width: 590px;"
                                             th:each="image : ${product.images}">
                                            <div class="lazy-img__prod">
                                                <span class="boxlazy-img__aspect">
                                                    <img alt="Product Image" th:src="@{${image.url}}">
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="swiper-nav-main">
										<span class="swiper-button swiper-prev">
                                            <svg height="22" viewBox="0 0 448 512" width="22"
                                                 xmlns="http://www.w3.org/2000/svg"><path
                                                    d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
										</span>
                                        <span class="swiper-button swiper-next">
                                            <svg height="22" viewBox="0 0 448 512" width="22"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <path d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/>
                                            </svg>
										</span>
                                    </div>
                                </div>
                                <div class="product-gallery__thumb swiper">
                                    <div class="swiper-wrapper">
                                        <div class="product-thumb swiper-slide" th:each="image : ${product.images}">
                                            <div class="product-thumb__link">
                                                <div class="lazy-img__prod">
                                                    <span class="boxlazy-img__aspect">
                                                        <img alt="" th:src="@{${image.url}}">
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-7 col-md-12 col-12 product-info">
                            <div class="row">
                                <div class="col-xl-12 col-lg-12 col-md-12 col-12">
                                    <div class="info-header">
                                        <div class="product-name">
                                            <h1 th:text="${product.title}"></h1>
                                        </div>
                                        <div class="product-sku">
                                            <span>Mã sản phẩm: <strong th:text="${product.sku}"></strong></span>
                                            <span>Tình trạng:  <strong
                                                    th:text="${product.available ? 'Còn hàng' : 'Hết hàng'}"></strong></span>
                                        </div>
                                    </div>
                                    <div class="info-body">
                                        <div class="product-price">
                                            <span class="pro-title">Giá:</span>
                                            <span class="pro-price" id="formatted-price" th:text="${product.variants[0].price}"></span>
                                            <del id="formatted-CompareAtprice" th:text="${product.variants[0].compareAtPrice}"></del>
                                            <span class="pro-percent">
                                                <svg height="13" viewBox="0 0 448 512" width="13"
                                                     xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288l111.5 0L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7l-111.5 0L349.4 44.6z"
                                                          fill="#ffffff"/>
                                                </svg>
                                                -20%
                                            </span>
                                        </div>
                                        <div class="product-variants">
                                            <div class="select-swatch">
                                                <div class="swatch is-color">
                                                    <div class="pro-title">Màu sắc:</div>
                                                    <div class="select-swap">
                                                        <div class="swatch-element color"
                                                             onclick="selectRadio(this)"
                                                             th:each="value : ${product.options[0].values}">
                                                            <input name="color"
                                                                   th:id="${value}"
                                                                   th:value="${value}"
                                                                   type="radio"
                                                            >
                                                            <label th:for="${value}">
                                                                <span th:text="${value}"></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="swatch" id="variant-swatch-1">
                                                    <div class="pro-title">Kích thước:</div>
                                                    <div class="select-swap">
                                                        <div class="swatch-element size"
                                                             onclick="selectRadio(this)"
                                                             th:classappend="${' ' + size.toLowerCase()}"
                                                             th:each="size : ${product.options[1].values}">
                                                            <input name="option2"
                                                                   th:id="${'swatch-1-' + size.toLowerCase()}"
                                                                   th:value="${size}"
                                                                   type="radio">
                                                            <label th:for="${'swatch-1-' + size.toLowerCase()}">
                                                                <span th:text="${size}"></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="swatch"
                                                     id="variant-swatch-2"
                                                     th:if="${product.options.size() > 2 && product.options[2].values != null && !product.options[2].values.isEmpty()}">
                                                    <div class="pro-title">Chất liệu:</div>
                                                    <div class="select-swap">
                                                        <div class="swatch-element material selected"
                                                             th:classappend="${' ' + material.toLowerCase()}"
                                                             th:each="material : ${product.options[2].values}">
                                                            <input name="material"
                                                                   th:id="${material.toLowerCase()}"
                                                                   th:value="${material}"
                                                                   type="radio">
                                                            <label th:for="${material.toLowerCase()}">
                                                                <span th:text="${material}"></span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="product-quantity">
                                            <div class="d-flex align-items-center">
                                                <div class="pro-title">Số lượng:</div>
                                                <button class="qty-btn" onclick="decreaseQuantity()" type="button">
                                                    <svg class="icon icon--minus"
                                                         viewBox="0 0 10 2">
                                                        <path d="M10 0v2H0V0z"></path>
                                                    </svg>
                                                </button>
                                                <input aria-label="quantity" aria-labelledby="quantity"
                                                       class="qty-value"
                                                       id="quantity" min="1" name="quantity" type="text"
                                                       value="1">
                                                <button aria-label="plus-quantity" class="qty-btn"
                                                        onclick="increaseQuantity()" type="button">
                                                    <svg class="icon icon--plus"
                                                         viewBox="0 0 10 10">
                                                        <path d="M6 4h4v2H6v4H4V6H0V4h4V0h2v4z"></path>
                                                    </svg>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="product-actions">
                                            <div class="action-buys">
                                                <button class="button btn-addtocart" onclick="addToCart()"
                                                        type="button">Thêm vào giỏ
                                                </button>
                                                <button class="button btn-buynow" onclick="addToCart(true)"
                                                        style="background-color: #121212; border-color: #121212;"
                                                        type="button">
                                                    <span>Mua ngay</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-12 product-tabs">
                            <ul class="nav tab-title">
                                <li class="nav-item">
                                    <button class="title-link active" data-bs-target="#pills-desc" data-bs-toggle="pill"
                                            type="button">Mô tả sản phẩm
                                    </button>
                                </li>
                                <li class="nav-item">
                                    <button class="title-link" data-bs-target="#pills-policy-1" data-bs-toggle="pill"
                                            type="button">Chính sách đổi trả
                                    </button>
                                </li>
                                <li class="nav-item">
                                    <button class="title-link" data-bs-target="#pills-policy-2" data-bs-toggle="pill"
                                            type="button">Hướng dẫn bảo quản
                                    </button>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade product-desc active show" id="pills-desc">
                                    <div class="product-desc__inner">
                                        <div class="product-desc__content expandable-toggle opened">
                                            <div class="desc-content">
                                                <div>
                                                    <div th:utext="${product.description}"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade product-policy-1" id="pills-policy-1">
                                    <p style="text-align: center">
                                        <img alt=""
                                             src="//file.hstatic.net/200000000133/file/chinh-sach-doi-tra_0f8893856f8f42d28ded8fa64cf2522b.png">
                                    </p>
                                </div>
                                <div class="tab-pane fade product-policy-2" id="pills-policy-2">
                                    <div class="button_cont" style="text-align: center">
                                        <a>
                                            <img alt=""
                                                 src="https://file.hstatic.net/200000000133/file/1_05685cc65a60422dbe5af0f7de3a4fcc.png">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-12 product-related">
                            <div class="section-title" style="margin-bottom: 30px">
                                <h2>Sản phẩm liên quan</h2>
                            </div>
                            <div class="list-product-slide swiper">
                                <div class="swiper-wrapper">
                                    <th:block th:each="relatedProduct : ${relatedProducts}">
                                        <div class="swiper-slide">
                                            <div class="product-loop">
                                                <div class="product-inner">
                                                    <div class="proloop-image">
                                                        <div class="proloop-image__inner">
                                                            <div class="lazy-img lazy-img__prod first-image">
                                                                <img alt="" th:src="${relatedProduct.images[0].url}">
                                                            </div>
                                                            <div class="lazy-img lazy-img__prod second-image">
                                                                <img alt="" th:src="${relatedProduct.images[1].url}">
                                                            </div>
                                                        </div>
                                                        <div class="proloop-actions">
                                                            <div class="proloop-actions__inner">
                                                                <div class="proloop-actions__cart">
                                                                    <div class="actions-primary">
                                                                        <button class="btn-proloop-cart"
                                                                                onclick="addToCart('${product.id}', '${product.title}', '${product.variants[0].price}')"
                                                                                type="button">
                                                                            <svg height="18"
                                                                                 viewBox="0 0 22 22" width="18"
                                                                                 xmlns="http://www.w3.org/2000/svg">
                                                                                <path d="M15.95 6H19.7V17.875C19.7 18.7344 19.3875 19.4635 18.7625 20.0625C18.1635 20.6875 17.4344 21 16.575 21H5.325C4.46563 21 3.72344 20.6875 3.09844 20.0625C2.49948 19.4635 2.2 18.7344 2.2 17.875V6H5.95C5.95 4.61979 6.43177 3.44792 7.39531 2.48438C8.3849 1.49479 9.56979 1 10.95 1C12.3302 1 13.5021 1.49479 14.4656 2.48438C15.4552 3.44792 15.95 4.61979 15.95 6ZM13.1375 3.8125C12.5385 3.1875 11.8094 2.875 10.95 2.875C10.0906 2.875 9.34844 3.1875 8.72344 3.8125C8.12448 4.41146 7.825 5.14062 7.825 6H14.075C14.075 5.14062 13.7625 4.41146 13.1375 3.8125ZM17.825 17.875V7.875H15.95V9.4375C15.95 9.69792 15.8589 9.91927 15.6766 10.1016C15.4943 10.2839 15.2729 10.375 15.0125 10.375C14.7521 10.375 14.5307 10.2839 14.3484 10.1016C14.1661 9.91927 14.075 9.69792 14.075 9.4375V7.875H7.825V9.4375C7.825 9.69792 7.73385 9.91927 7.55156 10.1016C7.36927 10.2839 7.14792 10.375 6.8875 10.375C6.62708 10.375 6.40573 10.2839 6.22344 10.1016C6.04115 9.91927 5.95 9.69792 5.95 9.4375V7.875H4.075V17.875C4.075 18.2135 4.19219 18.5 4.42656 18.7344C4.68698 18.9948 4.98646 19.125 5.325 19.125H16.575C16.9135 19.125 17.2 18.9948 17.4344 18.7344C17.6948 18.5 17.825 18.2135 17.825 17.875Z"></path>
                                                                            </svg>
                                                                            <span>Thêm vào giỏ</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="proloop-detail">
                                                        <h3 class="proloop-title">
                                                            <a href="/" th:text="${relatedProduct.title}"></a>
                                                        </h3>
                                                        <p class="proloop-price on-sale">
                                                            <span class="price"
                                                                  th:text="${relatedProduct.variants[0].price} + 'đ'"></span>
                                                            <span class="price-del"
                                                                  th:text="${relatedProduct.variants[0].compareAtPrice} + 'đ'"></span>
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </th:block>
                                </div>
                                <div class="swiper-nav">
                                    <span class="swiper-button swiper-prev">
                                        <svg height="22" style="transform: rotate(180deg)" viewBox="0 0 511.993 511.993"
                                             width="22">
                                            <g><g><g><path
                                                    d="M487.292,235.408H20.59c-11.372,0-20.59,9.224-20.59,20.59c0,11.366,9.217,20.59,20.59,20.59h466.702 c11.372,0,20.59-9.217,20.59-20.59C507.882,244.625,498.665,235.408,487.292,235.408z"></path></g></g><g><g><path
                                                    d="M505.96,241.434L304.187,39.653c-8.044-8.037-21.07-8.037-29.114,0c-8.044,8.044-8.044,21.084,0,29.121l187.216,187.223 L275.073,443.221c-8.044,8.037-8.044,21.077,0,29.114c4.022,4.022,9.286,6.033,14.557,6.033s10.535-2.011,14.557-6.033	l201.773-201.78C514.004,262.511,514.004,249.47,505.96,241.434z"></path></g></g></g></svg>
                                    </span>
                                    <span class="swiper-button swiper-next">
                                        <svg height="22" viewBox="0 0 511.993 511.993" width="22"><g><g><g><path
                                                d="M487.292,235.408H20.59c-11.372,0-20.59,9.224-20.59,20.59c0,11.366,9.217,20.59,20.59,20.59h466.702 c11.372,0,20.59-9.217,20.59-20.59C507.882,244.625,498.665,235.408,487.292,235.408z"></path></g></g><g><g><path
                                                d="M505.96,241.434L304.187,39.653c-8.044-8.037-21.07-8.037-29.114,0c-8.044,8.044-8.044,21.084,0,29.121l187.216,187.223 L275.073,443.221c-8.044,8.037-8.044,21.077,0,29.114c4.022,4.022,9.286,6.033,14.557,6.033s10.535-2.011,14.557-6.033	l201.773-201.78C514.004,262.511,514.004,249.47,505.96,241.434z"></path></g></g></g></svg>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:replace="~{layouts/customer/footer}"></div>
<script th:src="@{/js/product_detail.js}"></script>

</body>
</html>