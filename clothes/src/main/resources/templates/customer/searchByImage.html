<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          rel="stylesheet"/>
    <title>Tìm kiếm bằng hình ảnh</title>
    <link rel="stylesheet" th:href="@{/css/customer/products.css}"/>
    <link rel="stylesheet" th:href="@{/css/customer/header.css}"/>
    <link rel="stylesheet" th:href="@{/css/customer/productCard.css}"/>
    <link rel="stylesheet" th:href="@{/css/customer/searchByImage.css}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css"/>
</head>
<body>
<div th:replace="~{layouts/customer/header}"></div>
<div class="editor-container mt-5">
    <h1 class="text-center">Tìm kiếm bằng hình ảnh</h1>
    <div class="text-center position-relative editor mt-3">
        <label class="custum-file-upload">
            <div class="text">
                <span>Tải ảnh lên</span>
            </div>
            <input type="file" id="fileInput" accept="image/*" class="form-control"/>
        </label>
        <div id="imageContainer" class="mt-3" style="display: none;">
            <img id="image" class="img-fluid"/>
        </div>
        <button id="cropButton" class="btn btn-primary mt-3" style="display: none;">Tìm kiếm</button>
    </div>
    <div id="croppedImageContainer" class="text-center mt-4 preview" style="display: none;">
        <img id="croppedImage" class="img-fluid"/>
    </div>
    <div id="predictUrl" class="d-none" th:text="${predictUrl}"></div>
    <div class="container mt-5">
        <div id="productsContainer" th:fragment="productsFragment">
            <div class="row mx-5" id="product-list"/>
        </div>
    </div>
</div>
<div th:replace="~{layouts/customer/footer}"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
<script th:src="@{/js/customer/searchByImage.js}"></script>
</body>
</html>